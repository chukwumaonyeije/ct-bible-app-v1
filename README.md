
# CT Bible App (V1) — Modern Minimalist, Offline-First

React + Vite + TypeScript + Tailwind + Firebase (Auth/Firestore) + Workbox (PWA).

## Quick Start

1. **Install dependencies**
   ```bash
   npm install
   ```

2. **Add environment variables** to `.env` in the project root:
   ```env
   VITE_FB_API_KEY=...
   VITE_FB_AUTH_DOMAIN=...
   VITE_FB_PROJECT_ID=...
   VITE_FB_STORAGE_BUCKET=...
   VITE_FB_SENDER_ID=...
   VITE_FB_APP_ID=...
   ```

3. **Run locally**
   ```bash
   npm run dev
   ```

4. **Build + generate service worker**
   ```bash
   npm run build
   node scripts/workbox-build.mjs
   npm run preview
   ```

5. **Firebase rules**
   ```bash
   firebase deploy --only firestore:rules
   ```

6. **Deploy to Firebase Hosting** (optional)
   ```bash
   firebase deploy --only hosting
   ```

## Notes

- Seed content is inline in `src/App.tsx` for V1 evaluation.
- KJV is public domain; NKJV is not. For NKJV text, obtain permission or use an API.
- The app registers a service worker at `/service-worker.js` (generated by Workbox after build).
- Tailwind is enabled via `index.css` and `tailwind.config.js` (typography plugin included).

## Structure

- `src/App.tsx` — UI scaffold, auth, quiz, modules (mock data)
- `src/app/firebase.ts` — Firebase init (env-based)
- `public/manifest.webmanifest` — PWA manifest
- `scripts/workbox-build.mjs` — builds the service worker
- `firestore.rules` — secure per-user progress docs

## Next Steps
- Replace mock modules with Firestore `modules` collection.
- Add queued offline writes for progress using IndexedDB.
- Create a simple Admin seeding tool or script.
